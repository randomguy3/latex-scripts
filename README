This is a simple Rake-based infrastructure for building LaTeX files into PDFs.

It runs pdflatex the necessary number of times to get cross-references right,
including any from the bibliography.  It will automatically run BibTeX on any
bib files referenced in a \bibliography{} command in the LaTeX document.

If there are unresolved references or citations, it will warn about them,
listing the ones that could not be found.  It will also warn about TODOs,
providing the included commands in tex/todo.sty are used.

The main part of the script is in build.rake.  This should just be dropped into
the same directory as the LaTeX file.  Customisation for a particular LaTeX file
happens in the Rakefile, which should import build.rake.

* $MAIN_JOB specifies the base name of the tex file
* $DIST_NAME is the name of the final version of the pdf, and of the archive
* $EXTRA_INCLUDES allows extra files to be added
* $LATEX_OUTPUT_FMT defaults to pdf, unless the document class is one of a
  known few that cannot output directly to this format, in which case dvi
  output is used (and the pdf version is generated with dvips and ps2pdf).
  This variable must be one of "pdf" or "dvi".
* $LATEX, $BIBTEX, $DVIPS, $PS2PDF and $EPSTOPDF allow you to specify the
  location (and name) of the commands used.  By default, the lowercase
  version of the variable name is used, and the system PATH is searched.
* Extra options can be added using the _OPTS versions of these variables
  (eg: $LATEX_OPTS).

Note that while it is possible to override the various commands using the
above variables, the script expects certain arguments to be accepted and
the LaTeX log output to be of a certain form.

The script works by copying all files into a build directory, and running
pdflatex from that directory.  This keeps your working directory clean, and
allows you to structure your files (particuarly included files) while treating
them as being in the current directory from within your LaTeX file.

The script will find the file $MAIN_JOB.tex, anything in the "tex" subdirectory
and anything in the "figures" subdirectory.  BibTeX files in the main directory
that are referenced by the main TeX file will also be found.  Any other files
can be added to $EXTRA_INCLUDES.

If $LATEX_OUTPUT_FMT is set to 'pdf', any EPS figures (suffix: .eps) will be
converted to PDF using epstopdf.  If you also have a PDF file of the same name
(eg: foo.eps and foo.pdf), there is no guarantee as to which one will actually
be used.

Run `rake -D` for a list of available rake tasks.

